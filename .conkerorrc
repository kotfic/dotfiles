define_webjump("g", "http://www.google.com/search?q=%s");

minibuffer_auto_complete_default = true;

// url_remoting_fn = load_url_in_new_buffer;

mode_line_mode(false);

load(make_file("~/.conkeror.mozdev.org/assembla_space_ids.js"))


interactive("assembla-spot-check-space-urls",
            "Loads n URLs with random space IDs.",
            function assembla_spot_check(I) {
                var url_format = yield I.minibuffer.read($prompt = "Assembla URL (with %s where space-id should belong): ");
                var num_spaces = yield I.minibuffer.read($prompt = "Number of spot checks: ");

                if (num_spaces > assembla_space_ids.length) {
                    I.window.minibuffer.message("Number of spot checks exceeds number of space IDs known, performing " + assembla_space_ids.length + " instead.");
                    num_spaces = assembla_space_ids.length;
                }

                for (i=0;i<num_spaces;i++) {
                    load_url_in_new_buffer(url_format.replace("%s", assembla_space_ids[Math.floor(Math.random()*assembla_space_ids.length)]));
                }

                    I.window.minibuffer.message("Opened " + num_spaces + " new buffers.");
                });
